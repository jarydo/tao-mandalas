<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tao Mandalas</title>
  </head>
  <body style="margin: 0; overflow: hidden">
    <div id="app"></div>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.11.1/lib/p5.min.js"></script>
    <script src="https://unpkg.com/ml5@1.2.1/dist/ml5.min.js"></script>
    <script src="/main.js"></script>
    <script>
      // Detect base URL dynamically
      const baseUrl = window.location.pathname.includes("/tao-mandalas")
        ? "/tao-mandalas"
        : "";

      // Update favicon href
      document.querySelector('link[rel="icon"]').href =
        baseUrl + "/favicon.svg";

      // Create and load the main script with correct base URL
      const script = document.createElement("script");
      script.src = baseUrl + "/main.js";
      script.setAttribute("data-base-url", baseUrl);
      document.body.appendChild(script);
    </script>
  </body>
</html>
